version: "2"

volumes:
  postgres-data:
    driver: local

services:

    backend:
      links:
        # Link with the DB container as `db.local`
        - db:db.local
      volumes:
        - ./backend/config/entrypoint-local.sh:/entrypoint.sh:ro

    db:
      image: mdillon/postgis
      ports:
        # Expose port for convenient local access
        - 5432:5432
      volumes:
        - ./backend/init.sql:/tmp/init.sql
        - postgres-data:/var/lib/postgresql/data
      environment:
        POSTGRES_PASSWORD: example
        POSTGRES_DB: network_adequacy
